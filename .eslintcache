[{"C:\\git\\chat-app\\src\\index.js":"1","C:\\git\\chat-app\\src\\reportWebVitals.js":"2","C:\\git\\chat-app\\src\\App.js":"3","C:\\git\\chat-app\\src\\page\\auth\\Login.js":"4","C:\\git\\chat-app\\src\\page\\chat\\Chat.js":"5","C:\\git\\chat-app\\src\\common\\store.js":"6","C:\\git\\chat-app\\src\\page\\auth\\style\\style.js":"7","C:\\git\\chat-app\\src\\page\\auth\\components\\Form.js":"8","C:\\git\\chat-app\\src\\page\\auth\\Register.js":"9","C:\\git\\chat-app\\src\\firebase.js":"10","C:\\git\\chat-app\\src\\page\\auth\\state\\index.js":"11","C:\\git\\chat-app\\src\\common\\redux-helper.js":"12","C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\MainPanel.js":"13","C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\SidePanel.js":"14","C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\ChatRooms.js":"15","C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\DirectMessages.js":"16","C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\Favorited.js":"17","C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\UserPanel.js":"18","C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\MessageHeader.js":"19","C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\MessageForm.js":"20","C:\\git\\chat-app\\src\\common\\components\\Loader.js":"21","C:\\git\\chat-app\\src\\common\\hooks\\useAuthCheck.js":"22","C:\\git\\chat-app\\src\\page\\chat\\state\\index.js":"23","C:\\git\\chat-app\\src\\page\\chat\\hooks\\useChatRoomsObserver.js":"24","C:\\git\\chat-app\\src\\page\\chat\\style\\Button.js":"25","C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\Message.js":"26"},{"size":793,"mtime":1607451419393,"results":"27","hashOfConfig":"28"},{"size":362,"mtime":499162500000,"results":"29","hashOfConfig":"28"},{"size":983,"mtime":1607707985196,"results":"30","hashOfConfig":"28"},{"size":2180,"mtime":1607452302995,"results":"31","hashOfConfig":"28"},{"size":407,"mtime":1607451419401,"results":"32","hashOfConfig":"28"},{"size":660,"mtime":1607707985199,"results":"33","hashOfConfig":"28"},{"size":2438,"mtime":1607451419399,"results":"34","hashOfConfig":"28"},{"size":447,"mtime":1607380053838,"results":"35","hashOfConfig":"28"},{"size":4530,"mtime":1607461040399,"results":"36","hashOfConfig":"28"},{"size":731,"mtime":1607384257678,"results":"37","hashOfConfig":"28"},{"size":1336,"mtime":1607707985201,"results":"38","hashOfConfig":"28"},{"size":1015,"mtime":1607380053828,"results":"39","hashOfConfig":"28"},{"size":2072,"mtime":1607820017581,"results":"40","hashOfConfig":"28"},{"size":555,"mtime":1607451419408,"results":"41","hashOfConfig":"28"},{"size":4333,"mtime":1607707985208,"results":"42","hashOfConfig":"28"},{"size":114,"mtime":1607451419406,"results":"43","hashOfConfig":"28"},{"size":104,"mtime":1607451419407,"results":"44","hashOfConfig":"28"},{"size":2771,"mtime":1607707985210,"results":"45","hashOfConfig":"28"},{"size":2621,"mtime":1607707985206,"results":"46","hashOfConfig":"28"},{"size":2593,"mtime":1607717307918,"results":"47","hashOfConfig":"28"},{"size":1374,"mtime":1607452157142,"results":"48","hashOfConfig":"28"},{"size":773,"mtime":1607707985198,"results":"49","hashOfConfig":"28"},{"size":524,"mtime":1607707985212,"results":"50","hashOfConfig":"28"},{"size":2085,"mtime":1607718400586,"results":"51","hashOfConfig":"28"},{"size":828,"mtime":1607715939876,"results":"52","hashOfConfig":"28"},{"size":1250,"mtime":1607824040799,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"eubhoo",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"56"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\git\\chat-app\\src\\index.js",[],["108","109"],"C:\\git\\chat-app\\src\\reportWebVitals.js",[],"C:\\git\\chat-app\\src\\App.js",[],"C:\\git\\chat-app\\src\\page\\auth\\Login.js",[],"C:\\git\\chat-app\\src\\page\\chat\\Chat.js",[],"C:\\git\\chat-app\\src\\common\\store.js",[],"C:\\git\\chat-app\\src\\page\\auth\\style\\style.js",[],"C:\\git\\chat-app\\src\\page\\auth\\components\\Form.js",[],"C:\\git\\chat-app\\src\\page\\auth\\Register.js",[],"C:\\git\\chat-app\\src\\firebase.js",[],"C:\\git\\chat-app\\src\\page\\auth\\state\\index.js",[],"C:\\git\\chat-app\\src\\common\\redux-helper.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\MainPanel.js",["110"],"import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport MessageForm from './MessageForm';\r\nimport MessageHeader from './MessageHeader';\r\nimport firebase from './../../../../firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport Message from './Message';\r\n\r\nexport default function MainPanel() {\r\n  const messageRef = useRef(null);\r\n  messageRef.current = firebase.database().ref('messages');\r\n\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const chatRoom = useSelector(state => state.chatRoom.currentChatRoom);\r\n  const user = useSelector(state => state.auth.currentUser);\r\n\r\n  // ? 옵져버를 통해서 채팅 메세지 감시\r\n  const addMessageListeners = useCallback(id => {\r\n    let messagesArray = [];\r\n    setMessages([]); // 채팅방 이동시 상태값 초기화\r\n    messageRef.current.child(id).on('child_added', DataSnapshot => {\r\n      setLoading(true);\r\n      // console.log('메세지 불러오는 중...');\r\n      messagesArray.push(DataSnapshot.val());\r\n      // console.log('data :', DataSnapshot.val());\r\n      // console.log('array :', messagesArray);\r\n\r\n      setMessages(prev => [...messagesArray]);\r\n      setLoading(false);\r\n      console.log('업데이트 끝');\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (chatRoom) {\r\n      addMessageListeners(chatRoom.id);\r\n    }\r\n  }, [messages.length, chatRoom, addMessageListeners]);\r\n\r\n  const renderMessages = messages =>\r\n    messages.length > 0 &&\r\n    messages.map(message => <Message key={message.timestamp} message={message} user={user} />);\r\n\r\n  return (\r\n    <div style={{ padding: '2rem 2rem 0 2rem' }}>\r\n      <MessageHeader />\r\n\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          height: '450px',\r\n          border: '.2rem solid #ececec',\r\n          borderRadius: '4px',\r\n          padding: '1rem',\r\n          marginBottom: '1rem',\r\n          overflowY: 'auto',\r\n        }}\r\n      >\r\n        {renderMessages(messages)}\r\n      </div>\r\n\r\n      <MessageForm />\r\n    </div>\r\n  );\r\n}\r\n","C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\SidePanel.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\ChatRooms.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\DirectMessages.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\Favorited.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\SidePanel\\UserPanel.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\MessageHeader.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\MessageForm.js",[],"C:\\git\\chat-app\\src\\common\\components\\Loader.js",[],"C:\\git\\chat-app\\src\\common\\hooks\\useAuthCheck.js",[],"C:\\git\\chat-app\\src\\page\\chat\\state\\index.js",[],"C:\\git\\chat-app\\src\\page\\chat\\hooks\\useChatRoomsObserver.js",[],"C:\\git\\chat-app\\src\\page\\chat\\style\\Button.js",[],"C:\\git\\chat-app\\src\\page\\chat\\components\\MainPanel\\Message.js",[],{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","severity":1,"message":"116","line":13,"column":10,"nodeType":"117","messageId":"118","endLine":13,"endColumn":17},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]